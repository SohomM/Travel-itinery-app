<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Travel Dashboard Functional
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap");
    body {
      font-family: "Inter", sans-serif;
    }
    /* Scrollbar for overflow-x-auto and overflow-y-auto */
    ::-webkit-scrollbar {
      height: 6px;
      width: 6px;
    }
    ::-webkit-scrollbar-thumb {
      background: #a0aec0;
      border-radius: 3px;
    }
    ::-webkit-scrollbar-track {
      background: #f7fafc;
    }
  </style>
 </head>
 <body class="bg-white text-gray-900 min-h-screen flex flex-col">
  <main class="max-w-[360px] mx-auto flex-1 flex flex-col relative">
   <!-- Header -->
   <header class="pt-6 px-4 pb-4 flex flex-col gap-1 border-b border-gray-200">
    <p class="text-xs font-semibold text-gray-500">
     6:41
    </p>
    <h1 class="text-lg font-semibold" id="headerTitle">
     Hello Chavvi!
    </h1>
    <p class="text-xs text-gray-500" id="headerSubtitle">
     Ready for the trip?
    </p>
   </header>
   <!-- Main Content Area -->
   <section class="flex-1 overflow-y-auto" id="mainContent">
    <!-- Upcoming Trip -->
    <section aria-label="Upcoming trip section" class="px-4" id="upcomingTripSection">
     <p class="text-xs font-semibold text-gray-500 mb-2">
      Your Upcoming Trip
     </p>
     <div class="relative rounded-lg overflow-hidden">
      <img alt="Tokyo cityscape with Eiffel Tower and sunset in background" class="w-full h-[180px] object-cover" height="180" loading="lazy" src="https://storage.googleapis.com/a1aa/image/55104bb8-a5ee-4128-8d46-ad96b93f2614.jpg" width="360"/>
      <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-3">
       <h2 class="text-white text-3xl font-extrabold tracking-widest leading-none" id="tripLocation">
        TOKYO
       </h2>
      </div>
     </div>
    </section>
    <!-- Flight Details -->
    <section aria-label="Flight details section" class="px-4 mt-4" id="flightDetailsSection">
     <div aria-label="Flight details" class="bg-blue-700 rounded-lg p-4 flex flex-col gap-3 text-white">
      <div class="flex justify-between items-center">
       <p class="text-xs font-semibold">
        Flight Details
       </p>
       <p class="text-xs underline cursor-pointer" id="viewFlightDetailsBtn">
        View
       </p>
      </div>
      <div class="flex justify-between items-center">
       <div class="flex flex-col items-center">
        <p class="text-sm font-semibold" id="flightFromCode">
         DEL
        </p>
        <p class="text-xs" id="flightFromName">
         Delhi
        </p>
       </div>
       <div class="flex-1 border-t border-white/50 mx-2">
       </div>
       <div class="flex flex-col items-center">
        <p class="text-sm font-semibold" id="flightToCode">
         NRT
        </p>
        <p class="text-xs" id="flightToName">
         Narita
        </p>
       </div>
      </div>
     </div>
    </section>
    <!-- Accommodation -->
    <section aria-label="Accommodation section" class="px-4 mt-5" id="accommodationSection">
     <div class="flex justify-between items-center mb-2">
      <p class="text-xs font-semibold text-gray-700">
       Accommodation
      </p>
      <p class="text-xs text-blue-600 cursor-pointer" id="seeAllAccommodation">
       See all
      </p>
     </div>
     <div aria-label="List of accommodations" class="flex gap-3 overflow-x-auto pb-2" id="accommodationList" tabindex="0">
      <article aria-label="Emergency Private Hotel with check-in and check-out dates and duration" class="min-w-[140px] rounded-lg overflow-hidden shadow-md border border-gray-200">
       <img alt="Exterior view of Emergency Private Hotel" class="w-full h-[90px] object-cover" height="90" loading="lazy" src="https://storage.googleapis.com/a1aa/image/f35d5a9d-f1d6-4184-7431-66b3012a07b7.jpg" width="140"/>
       <div class="p-2 bg-white">
        <h3 class="text-xs font-semibold text-gray-900">
         Emergency Private Hotel
        </h3>
        <p class="text-[9px] text-gray-500">
         Check-in: 20 Oct, Check-out: 23 Oct
        </p>
        <p class="text-[9px] text-gray-500">
         3 Nights
        </p>
       </div>
      </article>
      <article aria-label="Awesome Tokyo Hotel with check-in and check-out dates and duration" class="min-w-[140px] rounded-lg overflow-hidden shadow-md border border-gray-200">
       <img alt="Exterior view of Awesome Tokyo Hotel" class="w-full h-[90px] object-cover" height="90" loading="lazy" src="https://storage.googleapis.com/a1aa/image/3c231051-1c79-462f-6c4d-7656eb326f88.jpg" width="140"/>
       <div class="p-2 bg-white">
        <h3 class="text-xs font-semibold text-gray-900">
         Awesome Tokyo Hotel
        </h3>
        <p class="text-[9px] text-gray-500">
         Check-in: 23 Oct, Check-out: 27 Oct
        </p>
        <p class="text-[9px] text-gray-500">
         4 Nights
        </p>
       </div>
      </article>
     </div>
    </section>
    <!-- Activities -->
    <section aria-label="Activities section" class="px-4 mt-5 flex flex-col" id="activitiesSection">
     <div class="flex justify-between items-center mb-2">
      <p class="text-xs font-semibold text-gray-700">
       Activities
      </p>
      <p class="text-xs text-blue-600 cursor-pointer" id="seeAllActivities">
       See all
      </p>
     </div>
     <!-- Date selector -->
     <div aria-label="Date selector" class="flex gap-1 mb-3 overflow-x-auto" id="dateSelector" tabindex="0">
      <button aria-pressed="true" class="flex flex-col items-center bg-yellow-400 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-17">
       <span class="text-[9px] font-semibold">
        Fri Nov
       </span>
       <span class="text-xs font-bold">
        17
       </span>
       <span class="text-[9px] font-semibold">
        Today
       </span>
      </button>
      <button aria-pressed="false" class="flex flex-col items-center bg-gray-200 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-18">
       <span class="text-[9px] font-semibold">
        Sat Nov
       </span>
       <span class="text-xs font-bold">
        18
       </span>
       <span class="text-[9px] font-semibold">
        Sat
       </span>
      </button>
      <button aria-pressed="false" class="flex flex-col items-center bg-gray-200 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-19">
       <span class="text-[9px] font-semibold">
        Sun Nov
       </span>
       <span class="text-xs font-bold">
        19
       </span>
       <span class="text-[9px] font-semibold">
        Sun
       </span>
      </button>
      <button aria-pressed="false" class="flex flex-col items-center bg-gray-200 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-20">
       <span class="text-[9px] font-semibold">
        Mon Nov
       </span>
       <span class="text-xs font-bold">
        20
       </span>
       <span class="text-[9px] font-semibold">
        Mon
       </span>
      </button>
      <button aria-pressed="false" class="flex flex-col items-center bg-gray-200 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-21">
       <span class="text-[9px] font-semibold">
        Tue Nov
       </span>
       <span class="text-xs font-bold">
        21
       </span>
       <span class="text-[9px] font-semibold">
        Tue
       </span>
      </button>
      <button aria-pressed="false" class="flex flex-col items-center bg-gray-200 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-22">
       <span class="text-[9px] font-semibold">
        Wed Nov
       </span>
       <span class="text-xs font-bold">
        22
       </span>
       <span class="text-[9px] font-semibold">
        Wed
       </span>
      </button>
      <button aria-pressed="false" class="flex flex-col items-center bg-gray-200 rounded-md px-2 py-1 min-w-[40px]" data-date="2023-11-23">
       <span class="text-[9px] font-semibold">
        Thu Nov
       </span>
       <span class="text-xs font-bold">
        23
       </span>
       <span class="text-[9px] font-semibold">
        Thu
       </span>
      </button>
     </div>
     <!-- Activity list -->
     <div aria-label="List of activities" class="flex flex-col gap-3 overflow-y-auto pb-4" id="activityList" tabindex="0">
      <article aria-label="Sensō-ji Temple &amp; Nakamise Shopping Street with description and time" class="flex gap-3 border border-gray-300 rounded-lg p-2 shadow-sm">
       <img alt="Sensō-ji Temple &amp; Nakamise Shopping Street with red temple gate and shopping street" class="w-20 h-20 object-cover rounded-md flex-shrink-0" height="80" loading="lazy" src="https://storage.googleapis.com/a1aa/image/b0ddcbca-985a-46aa-0444-9902a4c99958.jpg" width="80"/>
       <div class="flex flex-col justify-between">
        <h3 class="text-xs font-semibold text-gray-900">
         Sensō-ji Temple &amp; Nakamise Shopping Street
        </h3>
        <p class="text-[9px] text-gray-600">
         9:00 AM - 11:00 AM
        </p>
       </div>
      </article>
      <article aria-label="Tokyo Skytree with description and time" class="flex gap-3 border border-gray-300 rounded-lg p-2 shadow-sm">
       <img alt="Tokyo Skytree tower with blue sky background" class="w-20 h-20 object-cover rounded-md flex-shrink-0" height="80" loading="lazy" src="https://storage.googleapis.com/a1aa/image/b59020f9-f31c-404a-280d-3e5e730195ea.jpg" width="80"/>
       <div class="flex flex-col justify-between">
        <h3 class="text-xs font-semibold text-gray-900">
         Tokyo Skytree
        </h3>
        <p class="text-[9px] text-gray-600">
         12:00 PM - 2:00 PM
        </p>
       </div>
      </article>
      <article aria-label="Kimono Wearing with description and time" class="flex gap-3 border border-gray-300 rounded-lg p-2 shadow-sm">
       <img alt="Person wearing traditional kimono in a Japanese garden" class="w-20 h-20 object-cover rounded-md flex-shrink-0" height="80" loading="lazy" src="https://storage.googleapis.com/a1aa/image/0bf2218f-b9ac-46e5-88d4-4496b90ecf3a.jpg" width="80"/>
       <div class="flex flex-col justify-between">
        <h3 class="text-xs font-semibold text-gray-900">
         Kimono Wearing
        </h3>
        <p class="text-[9px] text-gray-600">
         3:00 PM - 5:00 PM
        </p>
       </div>
      </article>
     </div>
    </section>
   </section>
   <!-- Add New Trip Modal -->
   <div aria-labelledby="addTripTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50" id="addTripModal" role="dialog">
    <div class="bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto p-6 relative">
     <h2 class="text-xl font-semibold mb-4 text-center text-gray-900" id="addTripTitle">
      Add New Trip
     </h2>
     <form class="flex flex-col gap-4" id="addTripForm">
      <label class="flex flex-col text-sm font-semibold text-gray-700">
       Location
       <input class="mt-1 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" id="newTripLocation" placeholder="Enter location" required="" type="text"/>
      </label>
      <label class="flex flex-col text-sm font-semibold text-gray-700">
       Image URL
       <input class="mt-1 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" id="newTripImage" placeholder="Enter image URL" required="" type="url"/>
      </label>
      <label class="flex flex-col text-sm font-semibold text-gray-700">
       Flight From (Code)
       <input class="mt-1 border border-gray-300 rounded-md p-2 uppercase focus:outline-none focus:ring-2 focus:ring-blue-500" id="newFlightFromCode" maxlength="3" placeholder="e.g. DEL" required="" type="text"/>
      </label>
      <label class="flex flex-col text-sm font-semibold text-gray-700">
       Flight From (Name)
       <input class="mt-1 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" id="newFlightFromName" placeholder="e.g. Delhi" required="" type="text"/>
      </label>
      <label class="flex flex-col text-sm font-semibold text-gray-700">
       Flight To (Code)
       <input class="mt-1 border border-gray-300 rounded-md p-2 uppercase focus:outline-none focus:ring-2 focus:ring-blue-500" id="newFlightToCode" maxlength="3" placeholder="e.g. NRT" required="" type="text"/>
      </label>
      <label class="flex flex-col text-sm font-semibold text-gray-700">
       Flight To (Name)
       <input class="mt-1 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" id="newFlightToName" placeholder="e.g. Narita" required="" type="text"/>
      </label>
      <div class="flex justify-between gap-2">
       <button class="flex-1 bg-gray-300 text-gray-700 rounded-md py-2 font-semibold hover:bg-gray-400 transition" id="cancelAddTripBtn" type="button">
        Cancel
       </button>
       <button class="flex-1 bg-blue-600 text-white rounded-md py-2 font-semibold hover:bg-blue-700 transition" type="submit">
        Add Trip
       </button>
      </div>
     </form>
    </div>
   </div>
   <!-- Search Page -->
   <section aria-label="Search page" class="fixed inset-0 bg-white z-50 p-4 hidden flex flex-col" id="searchPage">
    <div class="flex items-center gap-2 mb-4">
     <input aria-label="Search travel places" class="flex-1 border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" id="searchInput" placeholder="Search travel places..." type="search"/>
     <button aria-label="Close search" class="text-gray-600 text-xl" id="closeSearchBtn">
      <i class="fas fa-times">
      </i>
     </button>
    </div>
    <div aria-atomic="true" aria-live="polite" class="flex flex-col gap-3 overflow-y-auto" id="searchResults" tabindex="0">
     <!-- Search results inserted here -->
    </div>
   </section>
   <!-- Profile Page -->
   <section aria-label="Profile page" class="fixed inset-0 bg-white z-50 p-6 hidden flex flex-col" id="profilePage">
    <button aria-label="Close profile" class="self-end text-gray-600 text-xl mb-4" id="closeProfileBtn">
     <i class="fas fa-times">
     </i>
    </button>
    <div class="flex flex-col items-center gap-4">
     <img alt="User profile picture placeholder" class="rounded-full w-24 h-24 object-cover" height="100" loading="lazy" src="https://storage.googleapis.com/a1aa/image/25cfa8d8-9f40-4064-4a25-5123f0682677.jpg" width="100"/>
     <h2 class="text-2xl font-semibold">
      Chavvi
     </h2>
     <p class="text-gray-600">
      Traveler &amp; Explorer
     </p>
    </div>
    <div class="mt-6">
     <h3 class="text-lg font-semibold mb-2">
      Your Trips
     </h3>
     <ul class="space-y-3 max-h-[50vh] overflow-y-auto" id="profileTripsList">
      <!-- Trips will be listed here -->
     </ul>
    </div>
   </section>
   <!-- Bottom Navigation -->
   <nav aria-label="Main navigation" class="flex justify-between items-center border-t border-gray-300 py-3 px-6 text-gray-400 text-xl bg-white">
    <button aria-current="page" aria-label="Home" class="text-blue-600" id="navHomeBtn">
     <i class="fas fa-home">
     </i>
    </button>
    <button aria-label="Search" id="navSearchBtn">
     <i class="fas fa-search">
     </i>
    </button>
    <button aria-label="Add new trip" class="bg-blue-600 text-white rounded-full p-3 -mt-8 shadow-lg" id="navAddBtn">
     <i class="fas fa-plus">
     </i>
    </button>
    <button aria-label="Notifications" id="navNotificationsBtn">
     <i class="fas fa-bell">
     </i>
    </button>
    <button aria-label="Profile" id="navProfileBtn">
     <i class="fas fa-user">
     </i>
    </button>
   </nav>
  </main>
  <script>
   (() => {
      // Elements
      const addTripModal = document.getElementById("addTripModal");
      const addTripForm = document.getElementById("addTripForm");
      const cancelAddTripBtn = document.getElementById("cancelAddTripBtn");
      const navAddBtn = document.getElementById("navAddBtn");
      const navSearchBtn = document.getElementById("navSearchBtn");
      const navProfileBtn = document.getElementById("navProfileBtn");
      const navHomeBtn = document.getElementById("navHomeBtn");
      const navNotificationsBtn = document.getElementById("navNotificationsBtn");
      const searchPage = document.getElementById("searchPage");
      const closeSearchBtn = document.getElementById("closeSearchBtn");
      const searchInput = document.getElementById("searchInput");
      const searchResults = document.getElementById("searchResults");
      const profilePage = document.getElementById("profilePage");
      const closeProfileBtn = document.getElementById("closeProfileBtn");
      const mainContent = document.getElementById("mainContent");
      const headerTitle = document.getElementById("headerTitle");
      const headerSubtitle = document.getElementById("headerSubtitle");
      const tripLocation = document.getElementById("tripLocation");
      const accommodationList = document.getElementById("accommodationList");
      const activityList = document.getElementById("activityList");
      const profileTripsList = document.getElementById("profileTripsList");
      const flightFromCode = document.getElementById("flightFromCode");
      const flightFromName = document.getElementById("flightFromName");
      const flightToCode = document.getElementById("flightToCode");
      const flightToName = document.getElementById("flightToName");

      // Data
      let trips = [
        {
          id: 1,
          location: "TOKYO",
          image:
            "https://storage.googleapis.com/a1aa/image/55104bb8-a5ee-4128-8d46-ad96b93f2614.jpg",
          flightFromCode: "DEL",
          flightFromName: "Delhi",
          flightToCode: "NRT",
          flightToName: "Narita",
          accommodations: [
            {
              id: 1,
              name: "Emergency Private Hotel",
              checkIn: "20 Oct",
              checkOut: "23 Oct",
              nights: 3,
              image:
                "https://storage.googleapis.com/a1aa/image/f35d5a9d-f1d6-4184-7431-66b3012a07b7.jpg",
            },
            {
              id: 2,
              name: "Awesome Tokyo Hotel",
              checkIn: "23 Oct",
              checkOut: "27 Oct",
              nights: 4,
              image:
                "https://storage.googleapis.com/a1aa/image/3c231051-1c79-462f-6c4d-7656eb326f88.jpg",
            },
          ],
          activities: [
            {
              id: 1,
              name: "Sensō-ji Temple & Nakamise Shopping Street",
              time: "9:00 AM - 11:00 AM",
              image:
                "https://storage.googleapis.com/a1aa/image/b0ddcbca-985a-46aa-0444-9902a4c99958.jpg",
            },
            {
              id: 2,
              name: "Tokyo Skytree",
              time: "12:00 PM - 2:00 PM",
              image:
                "https://storage.googleapis.com/a1aa/image/b59020f9-f31c-404a-280d-3e5e730195ea.jpg",
            },
            {
              id: 3,
              name: "Kimono Wearing",
              time: "3:00 PM - 5:00 PM",
              image:
                "https://storage.googleapis.com/a1aa/image/0bf2218f-b9ac-46e5-88d4-4496b90ecf3a.jpg",
            },
          ],
        },
      ];

      // Current trip index
      let currentTripId = 1;

      // Utility: Clear children
      function clearChildren(element) {
        while (element.firstChild) {
          element.removeChild(element.firstChild);
        }
      }

      // Render functions
      function renderTrip(trip) {
        if (!trip) return;
        tripLocation.textContent = trip.location;
        flightFromCode.textContent = trip.flightFromCode;
        flightFromName.textContent = trip.flightFromName;
        flightToCode.textContent = trip.flightToCode;
        flightToName.textContent = trip.flightToName;

        // Render accommodations
        clearChildren(accommodationList);
        trip.accommodations.forEach((acc) => {
          const article = document.createElement("article");
          article.setAttribute(
            "aria-label",
            `${acc.name} with check-in and check-out dates and duration`
          );
          article.className =
            "min-w-[140px] rounded-lg overflow-hidden shadow-md border border-gray-200";
          article.innerHTML = `
            <img
              alt="Exterior view of ${acc.name}"
              class="w-full h-[90px] object-cover"
              height="90"
              loading="lazy"
              src="${acc.image}"
              width="140"
            />
            <div class="p-2 bg-white">
              <h3 class="text-xs font-semibold text-gray-900">${acc.name}</h3>
              <p class="text-[9px] text-gray-500">Check-in: ${acc.checkIn}, Check-out: ${acc.checkOut}</p>
              <p class="text-[9px] text-gray-500">${acc.nights} Nights</p>
            </div>
          `;
          accommodationList.appendChild(article);
        });

        // Render activities
        clearChildren(activityList);
        trip.activities.forEach((act) => {
          const article = document.createElement("article");
          article.setAttribute(
            "aria-label",
            `${act.name} with description and time`
          );
          article.className =
            "flex gap-3 border border-gray-300 rounded-lg p-2 shadow-sm";
          article.innerHTML = `
            <img
              alt="${act.name}"
              class="w-20 h-20 object-cover rounded-md flex-shrink-0"
              height="80"
              loading="lazy"
              src="${act.image}"
              width="80"
            />
            <div class="flex flex-col justify-between">
              <h3 class="text-xs font-semibold text-gray-900">${act.name}</h3>
              <p class="text-[9px] text-gray-600">${act.time}</p>
            </div>
          `;
          activityList.appendChild(article);
        });
      }

      function renderProfileTrips() {
        clearChildren(profileTripsList);
        trips.forEach((trip) => {
          const li = document.createElement("li");
          li.className =
            "border border-gray-300 rounded-md p-3 flex items-center gap-3 cursor-pointer hover:bg-gray-100";
          li.tabIndex = 0;
          li.setAttribute("role", "button");
          li.setAttribute("aria-label", `View trip to ${trip.location}`);
          li.innerHTML = `
            <img
              src="${trip.image}"
              alt="Image of ${trip.location}"
              class="w-16 h-16 object-cover rounded-md flex-shrink-0"
              width="64"
              height="64"
              loading="lazy"
            />
            <div>
              <h4 class="font-semibold">${trip.location}</h4>
              <p class="text-xs text-gray-600">Flight: ${trip.flightFromCode} → ${trip.flightToCode}</p>
            </div>
          `;
          li.addEventListener("click", () => {
            currentTripId = trip.id;
            showHome();
          });
          li.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              currentTripId = trip.id;
              showHome();
            }
          });
          profileTripsList.appendChild(li);
        });
      }

      // Show/hide functions
      function showAddTripModal() {
        addTripModal.classList.remove("hidden");
        mainContent.setAttribute("aria-hidden", "true");
        headerTitle.textContent = "Add New Trip";
        headerSubtitle.textContent = "";
        searchPage.classList.add("hidden");
        profilePage.classList.add("hidden");
        mainContent.classList.add("hidden");
        searchInput.value = "";
        searchResults.innerHTML = "";
        addTripForm.reset();
        document.getElementById("newTripLocation").focus();
      }

      function hideAddTripModal() {
        addTripModal.classList.add("hidden");
        mainContent.removeAttribute("aria-hidden");
        headerTitle.textContent = "Hello Chavvi!";
        headerSubtitle.textContent = "Ready for the trip?";
        mainContent.classList.remove("hidden");
      }

      function showSearchPage() {
        searchPage.classList.remove("hidden");
        mainContent.classList.add("hidden");
        addTripModal.classList.add("hidden");
        profilePage.classList.add("hidden");
        headerTitle.textContent = "Search Places";
        headerSubtitle.textContent = "";
        searchInput.focus();
      }

      function hideSearchPage() {
        searchPage.classList.add("hidden");
        mainContent.classList.remove("hidden");
        headerTitle.textContent = "Hello Chavvi!";
        headerSubtitle.textContent = "Ready for the trip?";
        searchInput.value = "";
        searchResults.innerHTML = "";
      }

      function showProfilePage() {
        profilePage.classList.remove("hidden");
        mainContent.classList.add("hidden");
        addTripModal.classList.add("hidden");
        searchPage.classList.add("hidden");
        headerTitle.textContent = "Profile";
        headerSubtitle.textContent = "";
        renderProfileTrips();
      }

      function hideProfilePage() {
        profilePage.classList.add("hidden");
        mainContent.classList.remove("hidden");
        headerTitle.textContent = "Hello Chavvi!";
        headerSubtitle.textContent = "Ready for the trip?";
      }

      function showHome() {
        hideAddTripModal();
        hideSearchPage();
        hideProfilePage();
        mainContent.classList.remove("hidden");
        headerTitle.textContent = "Hello Chavvi!";
        headerSubtitle.textContent = "Ready for the trip?";
        const trip = trips.find((t) => t.id === currentTripId);
        renderTrip(trip);
      }

      // Search functionality
      const allPlaces = [
        {
          id: 1,
          name: "Tokyo",
          image:
            "https://storage.googleapis.com/a1aa/image/55104bb8-a5ee-4128-8d46-ad96b93f2614.jpg",
          description: "City in Japan famous for its modernity and tradition.",
        },
        {
          id: 2,
          name: "Kyoto",
          image:
            "https://placehold.co/360x180/png?text=Kyoto+City+Image",
          description: "Historic city with temples and traditional culture.",
        },
        {
          id: 3,
          name: "Osaka",
          image:
            "https://placehold.co/360x180/png?text=Osaka+City+Image",
          description: "Known for its modern architecture and street food.",
        },
        {
          id: 4,
          name: "Hokkaido",
          image:
            "https://placehold.co/360x180/png?text=Hokkaido+Nature+Image",
          description: "Northern island famous for nature and skiing.",
        },
        {
          id: 5,
          name: "Nara",
          image:
            "https://placehold.co/360x180/png?text=Nara+City+Image",
          description: "Known for its deer park and ancient temples.",
        },
      ];

      function renderSearchResults(results) {
        clearChildren(searchResults);
        if (results.length === 0) {
          const noResult = document.createElement("p");
          noResult.className = "text-center text-gray-500 mt-4";
          noResult.textContent = "No places found.";
          searchResults.appendChild(noResult);
          return;
        }
        results.forEach((place) => {
          const article = document.createElement("article");
          article.className =
            "flex gap-3 border border-gray-300 rounded-lg p-2 shadow-sm cursor-pointer hover:bg-gray-100";
          article.tabIndex = 0;
          article.setAttribute("role", "button");
          article.setAttribute("aria-label", `View details for ${place.name}`);
          article.innerHTML = `
            <img
              alt="${place.name} image"
              class="w-24 h-16 object-cover rounded-md flex-shrink-0"
              height="64"
              loading="lazy"
              src="${place.image}"
              width="96"
            />
            <div class="flex flex-col justify-center">
              <h3 class="text-sm font-semibold text-gray-900">${place.name}</h3>
              <p class="text-xs text-gray-600">${place.description}</p>
            </div>
          `;
          article.addEventListener("click", () => {
            alert(`You clicked on ${place.name}. This can open detailed page.`);
          });
          article.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              alert(`You clicked on ${place.name}. This can open detailed page.`);
            }
          });
          searchResults.appendChild(article);
        });
      }

      // Event Listeners
      navAddBtn.addEventListener("click", () => {
        showAddTripModal();
      });

      cancelAddTripBtn.addEventListener("click", () => {
        hideAddTripModal();
      });

      addTripForm.addEventListener("submit", (e) => {
        e.preventDefault();
        // Gather form data
        const location = document.getElementById("newTripLocation").value.trim();
        const image = document.getElementById("newTripImage").value.trim();
        const flightFromCodeVal = document
          .getElementById("newFlightFromCode")
          .value.trim()
          .toUpperCase();
        const flightFromNameVal = document
          .getElementById("newFlightFromName")
          .value.trim();
        const flightToCodeVal = document
          .getElementById("newFlightToCode")
          .value.trim()
          .toUpperCase();
        const flightToNameVal = document
          .getElementById("newFlightToName")
          .value.trim();

        if (
          !location ||
          !image ||
          !flightFromCodeVal ||
          !flightFromNameVal ||
          !flightToCodeVal ||
          !flightToNameVal
        ) {
          alert("Please fill in all fields.");
          return;
        }

        // Create new trip object
        const newTrip = {
          id: trips.length + 1,
          location: location.toUpperCase(),
          image,
          flightFromCode: flightFromCodeVal,
          flightFromName: flightFromNameVal,
          flightToCode: flightToCodeVal,
          flightToName: flightToNameVal,
          accommodations: [],
          activities: [],
        };

        trips.push(newTrip);
        currentTripId = newTrip.id;
        hideAddTripModal();
        showHome();
      });

      navSearchBtn.addEventListener("click", () => {
        showSearchPage();
      });

      closeSearchBtn.addEventListener("click", () => {
        hideSearchPage();
      });

      navProfileBtn.addEventListener("click", () => {
        showProfilePage();
      });

      closeProfileBtn.addEventListener("click", () => {
        hideProfilePage();
      });

      navHomeBtn.addEventListener("click", () => {
        showHome();
      });

      searchInput.addEventListener("input", (e) => {
        const query = e.target.value.trim().toLowerCase();
        if (query.length === 0) {
          clearChildren(searchResults);
          return;
        }
        const filtered = allPlaces.filter((place) =>
          place.name.toLowerCase().includes(query)
        );
        renderSearchResults(filtered);
      });

      // Initialize
      showHome();
    })();
  </script>
 </body>
</html>
